<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="./css/main.css">
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/0d40d8f017.js" crossorigin="anonymous"></script>
    <!-- Scroll Reveal -->
    <script src="https://unpkg.com/scrollreveal"></script>

    <title>Portafolio</title>
</head>
<body class="dark-theme">
    
    <nav>
        <header>
            <h2>Portafolio</h2>
        </header>
        <section>
            <a tabindex="5" id="whoami-tab" href="#whoami"><i class="fas fa-question"></i>¿Quien soy?</a>
            <a tabindex="5" id="proyects-tab" href="#proyects"><i class="fas fa-tasks"></i>Proyectos</a>
            <a tabindex="5" id="skills-tab" href="#skills"><i class="fas fa-star"></i></i>Habilidades</a>
            <a tabindex="5" id="contact-tab" href="#contact"><i class="fas fa-phone"></i>Contacto</a>
        </section>
        <footer>
            Copyright © 2021 HGMG
        </footer>
    </nav>
    <header id="whoami">
        <h1>Hola, mi nombre es Hilarión :)</h1>
        <p>Soy un apasionado estudiante de <b>ingenieria en software</b>, me gusta mucho resolver problemas 
            y ofrecer soluciones a la gente, soy resiliente, honesto y muy trabajador.
        </p>
        <img src="./img/img0.png" alt="">
    </header>
    <section class="alt-section" id="proyects">
        <h2>Proyectos</h2>
        <div class="carousel">
            <i id="carouselPrevius" class="fas fa-angle-double-left"></i>
            <article class="carousel-active">
                <img src="./img/rentacar_pro.png" alt="Rentacar" data-url="https://chilaquilesenterprise.com/rentacar/?p=login">
                <div class="carousel-info">
                    <h3>Rentacar (proyecto escolar)</h3>
                    <p>Plataforma de renta de autos.</p>
                </div>
            </article>
            <article>
                <img src="./img/rentacar_pro.png" alt="Rentacar" data-url="https://chilaquilesenterprise.com/rentacar/?p=login">
                <div class="carousel-info">
                    <h3>Rentacar (proyecto escolar)</h3>
                    <p>Plataforma de renta de autos.</p>
                </div>
            </article>
            <article>
                <img src="./img/rentacar_pro.png" alt="Rentacar" data-url="https://chilaquilesenterprise.com/rentacar/?p=login">
                <div class="carousel-info">
                    <h3>Rentacar (proyecto escolar)</h3>
                    <p>Plataforma de renta de autos.</p>
                </div>
            </article>
            <i id="carouselNext" class="fas fa-angle-double-right"></i>
        </div>
    </section>
    <section id="skills">
        <h2>Habilidades</h2>
        <div class="icon-container">
            <div class="icon-item">
                <p>Diseño optimizado para seo organico en html5</p>
                <img src="./img/html5_icon.png" alt="" srcset="">
            </div>
            <div class="icon-item">
                <p>Diseño responsive y bonito con css3</p>
                <img src="./img/css3_icon.png" alt="" srcset="">
            </div>
            <div class="icon-item">
                <p>Interacciones intuitivas y animaciones suaves en js</p>
                <img src="./img/js_icon.png" alt="" srcset="">
            </div>
            <div class="icon-item">
                <p>Desarollo en android nativo con java</p>
                <img src="./img/java_icon.png" alt="" srcset="">
            </div>
            <div class="icon-item">
                <p>Competente en el mundo nativo de los mobiles</p>
                <img src="./img/android_icon.jpg" alt="" srcset="">
            </div>
            <div class="icon-item">
                <p>Diseño de interfaces y prototipos en adobexd</p>
                <img src="./img/adobexd_icon.png" alt="" srcset="">
            </div>
            <div class="icon-item">
                <p>Diseño de modelos y animaciones 3d en blender</p>
                <img src="./img/blender_icon.png" alt="" srcset="">
            </div>
            <div class="icon-item">
                <p>Gestion de bases relacionales con mysql</p>
                <img src="./img/mysql_icon.png" alt="" srcset="">
            </div>
            <div class="icon-item">
                <p>Seguridad, modelos y websevices con php</p>
                <img src="./img/php_icon.png" alt="" srcset="">
            </div>
            <div class="icon-item">
                <p>Metodos agiles con scrum</p>
                <img src="./img/scrum_icon.png" alt="" srcset="">
            </div>
            <div class="icon-item">
                <p>Interfaces usables, accesibles e intuitivas</p>
                <img src="./img/uiux_icon.png" alt="" srcset="">
            </div>
            <div class="icon-item">
                <p>Control de versiones en github</p>
                <img src="./img/github_icon.png" alt="" srcset="">
            </div>
            <div class="icon-item">
                <p>Competente en administracion de sistemas linux</p>
                <img src="./img/linux_icon.png" alt="" srcset="">
            </div>
            <div class="icon-item">
                <p>Compente en desarrollo de videojuegos con unity</p>
                <img src="./img/unity_icon.png" alt="" srcset="">
            </div>
            <div class="icon-item">
                <p>Desarrollo de aplicaciones en realidad aumentada con vuforia</p>
                <img src="./img/vuforia_icon.jpg" alt="" srcset="">
            </div>
            <div class="icon-item">
                <p>Experto en ofrecer soluciones con python</p>
                <img src="./img/python_icon.png" alt="" srcset="">
            </div>
            <div class="icon-item">
                <p>Desarrollo de videojuegos con pygame</p>
                <img src="./img/pygame_icon.png" alt="" srcset="">
            </div>
        </div>
    </section>
    <section class="alt-section" id="contact">
        <h2>Contacto</h2>
        <img src="./img/img3.png" alt="">
        <div class="icon-container-centered">
            <a tabindex="0" href="https://github.com/Darkboy5120" target="_blank"><i class="fab fa-facebook"></i></a>
            <a tabindex="0" href="https://api.whatsapp.com/send?phone=5213141637234" target="_blank"><i class="fab fa-whatsapp"></i></a>
            <a tabindex="0" href="https://github.com/Darkboy5120" target="_blank"><i class="fab fa-github"></i></a>
        </div>
    </section>
    <div class="floating-actions">
        <button tabindex="6" id="fa-theme" type="button">
            <i class="fas fa-adjust"></i>
        </button>
        <button id="show_cv" tabindex="6" id="fa-theme" type="button">
            <i class="far fa-address-card"></i>
        </button>
    </div>

    <script>
        function Carousel () {
            this.images = document.querySelectorAll(".carousel > article");
            this.currentIndex = null;
            this.autoSlide = null;
            this.autoSlideDelay = 7000;
            //Agregamos eventos de click para redirigir a otra pagina
            for (let i = 0; i < this.images.length; i++) {
                let current_image = this.images[i].querySelector("img");
                current_image.addEventListener("click", () => {
                    let new_page_path = current_image.getAttribute("data-url");
                    window.open(new_page_path);
                });
            }
            //Obtenemos el indice de la imagen activa, si es que existe.
            for (let i = 0; i < this.images.length; i++) {
                if (this.images[i].classList.contains("carousel-active")) {
                    currentIndex = i;
                }
            }
            //Si no se señalo una imagen activa tomamos la primera.
            if (this.currentIndex == null) {
                this.currentIndex = 0;
                this.images[0].classList.add("carousel-active");
            }
            this.clearAnimations = function (image) {
                image.classList.remove("slice-previus-animation");
                image.classList.remove("slice-next-animation");
            }
            this.update = function () {
                //Se corrige el rango cuando se sale del limite.
                if (this.currentIndex < 0) {
                    this.currentIndex = this.images.length-1;
                } else if (this.currentIndex > this.images.length-1) {
                    this.currentIndex = 0;
                }
                //se actualiza la clase de la nueva y antigua imagen activa.
                let oldImage = document.querySelector(".carousel-active");
                let newImage = this.images[this.currentIndex];
                this.clearAnimations(newImage);
                oldImage.classList.remove("carousel-active");
                newImage.classList.add("carousel-active");

                //Reiniciamos el autoSlide cuando se interactua con el carousel.
                clearInterval(this.autoSlide);
                this.autoSlide = window.setInterval(() => {
                    this.next();
                }, this.autoSlideDelay);
            }
            this.previus = function () {
                this.currentIndex -= 1;
                this.update();
                this.images[this.currentIndex].classList.add("slice-previus-animation");
            }
            this.next = function () {
                this.currentIndex += 1;
                this.update();
                this.images[this.currentIndex].classList.add("slice-next-animation");
            }
            document.querySelector("#carouselPrevius").addEventListener("click", e => {
                this.previus();
            });
            document.querySelector("#carouselNext").addEventListener("click", e => {
                this.next();
            });

            //Iniciamos el autoSlide para que avance el carousel.
            this.autoSlide = window.setInterval(() => {
                this.previus();
            }, this.autoSlideDelay);
        }

        let current_theme = "dark";

        document.querySelector("#fa-theme").addEventListener("click", e => {
            let el = e.target;
            if (el.tagName == "BUTTON") {
                el = el.querySelector("i");
            }
            if (current_theme == "dark") {
                current_theme = "light";
                el.classList.add("rotate-180");
                document.body.classList.add("light-theme");
                document.body.classList.remove("dark-theme");
            } else {
                current_theme = "dark";
                el.classList.remove("rotate-180");
                document.body.classList.add("dark-theme");
                document.body.classList.remove("light-theme");
            }
        });

        document.querySelectorAll(".icon-container-centered > a > i").forEach(e => {
            e.addEventListener("mouseenter", (ev) => {
                let remove_class = window.setTimeout(() => {
                    if (e.classList.contains("contact-icon-animation")) {
                        e.classList.remove("contact-icon-animation");
                    }
                }, 1400);
                if (!e.classList.contains("contact-icon-animation")) {
                    e.classList.add("contact-icon-animation");
                } else {
                    clearTimeout(remove_class);
                }
            });
        });
        let default_selected = document.querySelector("nav > section > a");
        default_selected.classList.add("active");
        document.querySelectorAll("nav > section > a").forEach(e => {
            e.addEventListener("click", () => {
                default_selected.classList.remove("active");
                e.classList.add("active");
                default_selected = e;
            });
        });

        let current_index = 0;
        const change_section_debounce = 800;
        let able_to_change_section = true;
        let changing_section = null;
        const sections_tab = ["#whoami-tab", "#proyects-tab", "#skills-tab", "#contact-tab"];
        const sections = ["#whoami", "#proyects", "#skills", "#contact"];
        const artifitial_scroll = (key) => {
            if (able_to_change_section) {
                if (key == 37) {
                    current_index--;
                    update_section();
                } else if (key == 39) {
                    current_index++;
                    update_section();
                } else if (key == 38) {
                    current_index--;
                    update_section();
                } else if (key == 40) {
                    current_index++;
                    update_section();
                }
            }
        }

        document.querySelectorAll("nav > section > a").forEach((e, i) => {
            e.addEventListener("click", () => {
                current_index = i;
            });
        });

        const update_section = () => {
            if (current_index < 0) {
                current_index = sections_tab.length - 1;
            } else if (current_index > (sections_tab.length - 1)) {
                current_index = 0;
            }

            document.querySelector(sections_tab[current_index]).click();

            able_to_change_section = false;
            changing_section = window.setTimeout(e => {
                able_to_change_section = true;
            }, change_section_debounce);
        }

        window.addEventListener("keyup", e => {
            artifitial_scroll(e.which);
        });
        window.addEventListener("keydown", e => {
            if (e.which == 37 || e.which == 39 || e.which == 38 | e.which == 40) {
                e.preventDefault();
                e.stopPropagation();
            }
        });

        document.querySelector("#show_cv").addEventListener("click", () => {
            window.open("./pdf/cv.pdf");
        });

        const carousel = new Carousel();
    </script>

</body>
</html>